# file		EntryPoint.s
# date		2009/01/01
# author	kkamagui 
#           Copyright(c)2008 All rights reserved by kkamagui
# brief		IA-32e ï¿½ï¿½ï¿? Ä¿ï¿½ï¿½ ï¿½ï¿½Æ®ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½Æ®ï¿½ï¿½ ï¿½ï¿½ï¿½Ãµï¿½ ï¿½Ò½ï¿½ ï¿½ï¿½ï¿½ï¿½

[BITS 64]           ; ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½Úµï¿½ï¿? 64ï¿½ï¿½Æ® ï¿½Úµï¿½ï¿? ï¿½ï¿½ï¿½ï¿½

SECTION .text       ; text ï¿½ï¿½ï¿½ï¿½(ï¿½ï¿½ï¿½×¸ï¿½Æ®)ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½


; ï¿½ÜºÎ¿ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½Çµï¿½ ï¿½Ô¼ï¿½ï¿½ï¿½ ï¿½ï¿½ ï¿½ï¿½ ï¿½Öµï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½(Import)
extern Main

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;	ï¿½Úµï¿½ ï¿½ï¿½ï¿½ï¿½
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
START:
	mov ax, 0x10        ; IA-32e ï¿½ï¿½ï¿? Ä¿ï¿½Î¿ï¿½ ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½×¸ï¿½Æ® ï¿½ï¿½Å©ï¿½ï¿½ï¿½Í¸ï¿½ AX ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Í¿ï¿½ ï¿½ï¿½ï¿½ï¿½
	mov ds, ax          ; DS ï¿½ï¿½ï¿½×¸ï¿½Æ® ï¿½ï¿½ï¿½ï¿½ï¿½Í¿ï¿½ ï¿½ï¿½ï¿½ï¿½
	mov es, ax          ; ES ï¿½ï¿½ï¿½×¸ï¿½Æ® ï¿½ï¿½ï¿½ï¿½ï¿½Í¿ï¿½ ï¿½ï¿½ï¿½ï¿½
	mov fs, ax          ; FS ï¿½ï¿½ï¿½×¸ï¿½Æ® ï¿½ï¿½ï¿½ï¿½ï¿½Í¿ï¿½ ï¿½ï¿½ï¿½ï¿½
	mov gs, ax          ; GS ï¿½ï¿½ï¿½×¸ï¿½Æ® ï¿½ï¿½ï¿½ï¿½ï¿½Í¿ï¿½ ï¿½ï¿½ï¿½ï¿½
	
	; ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 0x600000~0x6FFFFF ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ 1MB Å©ï¿½ï¿½ï¿? ï¿½ï¿½ï¿½ï¿½
	mov ss, ax          ; SS ï¿½ï¿½ï¿½×¸ï¿½Æ® ï¿½ï¿½ï¿½ï¿½ï¿½Í¿ï¿½ ï¿½ï¿½ï¿½ï¿½
	mov rsp, 0x6FFFF8   ; RSP ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½å·¹ï¿½ï¿½ï¿½ï¿? 0x6FFFF8ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
	mov rbp, 0x6FFFF8   ; RBP ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½å·¹ï¿½ï¿½ï¿½ï¿? 0x6FFFF8ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½
	
	call Main           ; C ï¿½ï¿½ï¿? ï¿½ï¿½Æ®ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½Æ® ï¿½Ô¼ï¿½(Main) È£ï¿½ï¿½

	
	jmp $
